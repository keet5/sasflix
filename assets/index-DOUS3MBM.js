import{d as v,o,c as n,a as t,t as p,b as l,w as _,u as i,C as f,F as y,_ as b,e as C,r as w,f as d,g as N,h as $,i as B,j as L,k as R,l as E,m as S,n as V}from"./index-CJr6eH3w.js";const j={class:"grid grid-cols-[auto,1fr] grid-rows-[auto,auto,auto] gap-x-[7px] gap-y-[3px] items-start"},D={class:"text-title"},F={key:0,class:"flex gap-[10px] flex-wrap"},T={class:"text-body"},A={class:"col-start-2 flex gap-[24px]"},I=v({__name:"c-comment",props:{comment:{}},setup(u){const r=u;function m(){r.comment.delete()}function s(){r.comment.recover()}return(a,e)=>(o(),n("div",j,[e[3]||(e[3]=t("div",{class:"row-span-2 pt-[5px]"},[t("svg",{width:"46",height:"46",viewBox:"0 0 46 46",fill:"none"},[t("circle",{cx:"23",cy:"23",r:"20.5",stroke:"#05090E","stroke-width":"5","stroke-dasharray":"20 5"})])],-1)),t("div",D,p(a.comment.comment.user.fullName),1),a.comment.deleted?(o(),n("div",F,[e[1]||(e[1]=t("div",{class:"text-body"},"This comment has been deleted.",-1)),l(i(f),{onClick:s,class:"text-primary translate-y-[-9px] text-[20px] mb-[-7px] hover:border-b-primary/10"},{default:_(()=>e[0]||(e[0]=[t("div",{class:"translate-y-[3px]"},"Return",-1)])),_:1})])):(o(),n(y,{key:1},[t("div",T,p(a.comment.comment.body),1),t("div",A,[e[2]||(e[2]=t("div",{class:"text-lightgray text-[15px]"},"Today",-1)),l(i(f),{class:"text-red hover:border-b-red text-[12px] tracking-[1px] translate-y-[-3px]"},{default:_(()=>[t("div",{onClick:m,class:"translate-y-[5px]"},"Delete")]),_:1})])],64))]))}}),M=b(I,[["__scopeId","data-v-1954b883"]]),P={key:0,class:"flex flex-col"},q={key:0,class:"flex flex-1 justify-center items-center"},z={key:1},G={class:"text-title mb-4"},H={class:"flex flex-col gap-[15px]"},K=v({__name:"v-post",setup(u){const r=C(),m=L();R();const s=w({loading:!1,commentList:[]}),a=d(()=>Number(m.params.id)),e=d(()=>r.state.postMap.get(Number(a.value))),g=d(()=>s.commentList.filter(c=>!c.deleted).length);h();async function h(){if(isNaN(a.value))return;s.loading=!0;const c=await r.actions.loadComments(a.value);s.loading=!1,s.commentList=c.comments.map(x=>new N(x))}return(c,x)=>e.value?(o(),n("div",P,[l(i(E),{post:e.value,class:"mb-10"},null,8,["post"]),s.loading?(o(),n("div",q,[l(i(S))])):(o(),n("div",z,[t("div",G,p(g.value)+" comments",1),t("div",H,[(o(!0),n(y,null,$(s.commentList,k=>(o(),V(M,{comment:k},null,8,["comment"]))),256))])]))])):B("",!0)}});export{K as default};
